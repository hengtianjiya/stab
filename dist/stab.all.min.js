var stab=function(t,e){var n=t.document,i=function(t){var e=t;try{e=Array.prototype.slice.call(n.querySelectorAll(t),0),e.selector=t}catch(t){}return e.__proto__=i.fn,e};"String Number Boolean Null Undefined Array Object Function Date".split(" ").forEach(function(t){i["is"+t]=function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}}),"Element Attr Text CDATASection EntityReference Entity ProcessingInstruction Comment Document DocumentType DocumentFragment Notation".split(" ").forEach(function(t,e){i["is"+t]=function(t){return t&&t.nodeType&&t.nodeType===e+1}}),i.fn={prev:function(){return i(this.map(function(t){return t.previousElementSibling||t.previousSibling}).filter(function(t){return i.isElement(t)}))},next:function(){return i(this.map(function(t){return t.nextElementSibling||t.nextSibling}).filter(function(t){return i.isElement(t)}))},html:function(t){return i.isUndefined(t)?this.length>0&&this[0].innerHTML:(this.forEach(function(e){e.innerHTML=t}),this)},text:function(t){return i.isUndefined(t)?this.length>0&&this[0].textContent:(this.forEach(function(e){e.textContent=t}),this)},remove:function(){return this.forEach(function(t){t.parentNode.removeChild(t)}),this},val:function(t){return i.isUndefined(t)?this.length>0&&("SELECT"==this[0].tagName?this[0].options[this[0].selectedIndex].value:this[0].value):(this.forEach(function(e){"SELECT"==e.tagName&&(e=e.options[e.selectedIndex]),e.value=t}),this)},attr:function(t,e){return i.isUndefined(e)?this.length>0&&this[0].getAttribute(t):(this.forEach(function(n){n.setAttribute(t,e)}),this)},removeAttr:function(t){return this.forEach(function(e){e.removeAttribute(t)}),this},hasClass:function(t){return this.length>0&&this[0].className.indexOf(t)>-1},addClass:function(t){return this.forEach(function(e){e.className+=" "+t}),this},removeClass:function(t){return this.forEach(function(e){e.className=e.className.replace(t,"")}),this},css:function(e){return i.isUndefined(e)?this.length>0&&this[0].style.cssText:~e.indexOf(":")?(this.forEach(function(t){t.style.cssText+=e}),this):this.length>0&&t.getComputedStyle(this[0],null).getPropertyValue(e)},offset:function(){if(0==this.length)return!1;var t=Math.max(n.documentElement.scrollLeft,n.body.scrollLeft),e=Math.max(n.documentElement.scrollTop,n.body.scrollTop),i=this[0].getBoundingClientRect();return{left:i.left+t,top:i.top+e,width:this[0].offsetWidth,height:this[0].offsetHeight}}},i.fn.__proto__=Array.prototype;var r={append:"beforeend",prepend:"afterbegin",before:"beforebegin",after:"afterend"};for(k in r)i.fn[k]=function(t){return this.forEach(function(e){e.insertAdjacentHTML(r[k],t)}),this};return i}(window);!function(t,e){var n={},i=1;stab.fn.off=function(t,e){return this.forEach(function(t){if(t._evtId&&n[t._evtId])if(i)t.removeEventListener(i,n[t._evtId][i],e),delete n[t._evtId][i];else{for(var i in n[t._evtId])t.removeEventListener(i,n[t._evtId][i],e);delete n[t._evtId]}}),this},stab.fn.on=function(t,e,r,o){var s=this;return this.forEach(function(u){var c=u._evtId||(u._evtId=i++);n[c]||(n[c]={}),n[c][t]=function(n){e.call(this,n),o&&s.off(t,r)},u.addEventListener(t,n[c][t],r)}),this},stab.fn.one=function(t,e,n){return this.on(t,e,n,!0)},stab.fn.trigger=function(e,n){var i=t.createEvent(n||"Events");return i.initEvent(e,!0,!0),this.forEach(function(t){t.dispatchEvent(i)}),this}}(document),stab.buildUrl=function(t){var e=[];for(var n in t)e.push(n+"="+t[n]);return e.join("&")},stab.ajax=function(t,e,n,i){var r="POST";this.isFunction(e)&&(i=n,n=e,e=null,r="GET"),this.isObject(e)&&(e=this.buildUrl(e));var o=new XMLHttpRequest;o.open(r,t,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s=setTimeout(function(){o.onreadystatechange=null,o.abort(),i&&i.call(null,"error: timeout.",o)},12e3);o.onreadystatechange=function(){4==o.readyState&&(o.status>=200&&o.status<300||304==o.status)&&(o.onreadystatechange=null,clearTimeout(s),n&&n.call(null,o.responseText,o))},o.send(e)},stab.cssPrefix=function(t){for(var e=t("body"),n=["-webkit-","-moz-","-o-"],i=0,r=n.length;i<r;i++)if(e.css(n[i]+"transition"))return n[i];return""}(stab),stab.fn.anim=function(t,e,n,i){n=n?n<18?1e3*n:n:600,i=i||"linear";var r=this,o=stab.cssPrefix,s=o+"transition:all "+n/1e3+"s "+i;this.css(t+s),setTimeout(function(){r.css(o+"transition:all 0s ease 0s;"),e&&e.call(r)},n)},stab.router=function(){var t={},e=function(e,n){return n?(t[e]=n,this):t.k},n=function(e){var n=location[e].substr(1).split("?")[0]||"index";t[n]&&t[n].call(null)};return{on:e,init:function(){window.addEventListener("hashchange",function(t){n("hash")}),n("hash")},xinit:function(){n("search")}}}(),stab.tmpl=function(t,e){return Function("var html=[];html.push('"+t.trim().replace(/[\r\t\n]/g,"").replace(/{%=(.+?)%}/g,"',$1,'").replace(/{%/g,"');").replace(/%}/g,"html.push('")+"');return html.join('');").call(e)},stab.fn.cp=function(t){t("style").length||t("head").append("<style></style>");var e=t("style");return function(n,i,r,o){var s={caller:this,src:n,update:function(){return this.caller.html(this.html=t.tmpl(this.src,this.data)),this}};return t.isFunction(r)?o=r:e.append(r),s.data=i,s.update(),o&&o.call(s),s}}(stab),stab.fn.tap=function(t){var e;this.on("touchstart",function(n){e=setTimeout(function(){t&&t.call(null,n)},180)}).on("touchmove",function(t){clearTimeout(e)})};